#
# Check for:
#
# - ControlPlane
# - VMSet
# - VirtualMachine
# - OvercloudNet (IP reservations)
# - OvercloudIpSet (IP reservations)
#

apiVersion: osp-director.openstack.org/v1beta1
kind: ControlPlane
metadata:
  name: overcloud
  namespace: openstack
spec:
  controller:
    controllerCount: 1
---
apiVersion: osp-director.openstack.org/v1beta1
kind: VMSet
metadata:
  name: controller
  namespace: openstack
spec:
  vmCount: 1
status:
  baseImageDVReady: true
  vmHosts:
    controller-2:
      hostname: controller-2
      ipaddress: 192.168.25.103/24
---
apiVersion: kubevirt.io/v1alpha3
kind: VirtualMachine
metadata:
  name: controller-2
  namespace: openstack
status:
  conditions:
  - status: "True"
    type: Ready
  created: true
  ready: true
---
apiVersion: osp-director.openstack.org/v1beta1
kind: OvercloudNet
metadata:
  name: ctlplane
  namespace: openstack
status:
  reservations:
    - hostname: openstackclient-0
      ip: 192.168.25.100
    - hostname: controller-0
      ip: 192.168.25.101
    - hostname: controller-1
      ip: 192.168.25.102
    - hostname: controller-2
      ip: 192.168.25.103
---
apiVersion: osp-director.openstack.org/v1beta1
kind: OvercloudIPSet
metadata:
  labels:
    addToPredictableIPsLabel: "true"
  name: controller
  namespace: openstack
spec:
  hostCount: 1
  networks:
  - ctlplane
  role: controller
status:
  hosts:
    controller-0:
      ipaddresses:
        ctlplane: 192.168.25.101/24
    controller-1:
      ipaddresses:
        ctlplane: 192.168.25.102/24
    controller-2:
      ipaddresses:
        ctlplane: 192.168.25.103/24